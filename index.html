<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Thông tin cá nhân</title>
        <link rel="stylesheet" href="./style.css">
        <link rel="stylesheet" href="./icon/themify-icons-font/themify-icons/themify-icons.css">
        <script src="https://kit.fontawesome.com/4a24fc7d8b.js" crossorigin="anonymous"></script>
    </head>

    <body>
        <div id="header">
            <div>
                <a href="#">
                    <img src="./img/header.bmp" alt="">
                </a>
            </div>

            <div>
                <ul class="navbar">
                    <li>
                        <a>
                            <i class="fa-regular fa-file file"></i>
                            Đào tạo đại học
                            <i class="ti-angle-down"></i>
                        </a>
                        <div>
                            <ul class="subnav">
                                <li>Quy định quy chế</li>
                                <li>Các ngành đào tạo</li>
                                <li>Kế hoạch học tập</li>
                                <li>Tin tức - Thông báo</li>
                                <li>Thông tin văn bằng 2</li>
                                <li>Chương trình đặc biệt</li>
                                <li>Biểu mẫu</li>
                                <li>Liên hệ</li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a>
                            <i class="fa-regular fa-file file"></i>
                            Đào tạo sau đại học
                        </a>
                        <ul class="subnav">
                            <li>Tuyển sinh</li>
                            <li>Đào tạo</li>
                            <li>Mẫu văn bản giấy tờ</li>
                            <li>Văn bản - Quy chế</li>
                            <li>Thông tin văn bằng</li>
                            <li>Trang thông tin cá nhân</li>
                            <li>Liên hệ</li>
                        </ul>
                    </li>
                    <li>
                        <a>
                            <i class="fa-regular fa-file file"></i>
                            Công tác sinh viên
                        </a>
                        <ul class="subnav">
                            <li>Thông báo</li>
                            <li>Học phí</li>
                            <li>Hỏi - Đáp</li>
                            <li>Việc làm</li>
                            <li>Học bổng tài trợ</li>
                            <li>Cựu sinh viên</li>
                            <li>Biểu mẫu</li>
                            <li>Liên hệ</li>
                        </ul>
                    </li>
                    <li>
                        <a> 
                            <i class="fa-regular fa-file file"></i>
                            Tra cứu văn bằng
                        </a>
                    </li>
                </ul>
            </div>

            <div class="navbutton">Trang chủ</div>
        </div>

        <div id="content">

            <div class="menu-content">
                <ul>
                    <h3 class="header-content">
                        <img id="profile-picture" src="./img/2112cce6bfb87ce625a9 (1).jpg" alt="">
                        <a href="">Nguyễn Mạnh Đức</a>
                    </h3>
                    <li>
                        <a href="">Thư báo<p class="nofti-count">0</p></a>
                        
                    </li>
                    <li><a href="">Đổi mật khẩu</a></li>
                    <li><a href="">Cấp lại mật khẩu Email trường</a></li>
                    <li><a href="">Thoát đăng nhập</a></li>
                    <li><a href="">Thông tin mật khẩu Email cấp mới</a></li>
                    <li><a href="">Xác nhận khai báo y tế</a></li>
                </ul>

                <ul>
                    <h3 class="header-content">
                        <a href="">QUẢN LÝ HỒ SƠ SINH VIÊN</a>
                    </h3>
                    <li><a href="">Thông tin sinh viên</a></li>
                    <li><a href="">Cập nhật thông tin cá nhân</a></li>
                    <li><a href="">Thông tin lớp sinh viên</a></li>
                </ul>

                <ul>
                    <h3 class="header-content">
                        <a href="">Đào tạo</a>
                    </h3>
                    <li>
                       <a href=""> Chương trình đào tạo</a>
                        <ul>
                            <li><a href="">Chương trình đào tạo sinh viên</a></li>
                            <li><a href="">Danh mục học phần</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="">Kế hoạch học tập</a>
                        <ul>
                            <li><a href="">Đăng ký học phần</a></li>
                            <li><a href="">Thời khóa biểu</a></li>
                            <li><a href="">Tra cứu đăng ký lớp các kỳ</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="">Kết quả học tập</a>
                        <ul>
                            <li><a href="">Đăng ký học phần</a></li>
                            <li><a href="">Thời khóa biểu</a></li>
                            <li><a href="">Tra cứu đăng ký lớp các kỳ</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="">Đồ án - Tốt nghiệp</a>
                        <ul>
                            <li><a href="">Đăng ký học phần</a></li>
                            <li><a href="">Thời khóa biểu</a></li>
                            <li><a href="">Tra cứu đăng ký lớp các kỳ</a></li>
                        </ul>
                    </li>
                    <li><a href="">Thời khóa biểu tạm thời</a></li>
                </ul>

                <ul>
                    <h3 class="header-content">
                        <a href="">TƯ VẤN TRỰC TUYẾN</a>
                    </h3>
                    <li><a href="">Hỏi đáp - Tư vấn trực tuyến</a></li>
                </ul>

                <ul>
                    <h3 class="header-content">
                        <a href="">TÀI CHÍNH HỌC VỤ</a>
                    </h3>
                    <li><a href="">Thông tin công nợ học phí</a></li>
                    <li><a href="">Thanh toán học phí trực tuyến</a></li>
                </ul>

                <ul>
                    <h3 class="header-content">
                        <a href="">DỊCH VỤ HÀNH CHÍNH</a>
                    </h3>
                    <li>
                        <a href="">ĐK cấp giấy tờ</a>
                    </li>
                </ul>
            </div>

            <div class="main-content">
                <div class="content-header classNo1">Thông tin cá nhân</div>
                <div class="content-field">
                    <div class="field-header classNo1">
                        Thông tin sinh viên
                        <a id="edit-button" onclick="editTrigger()"><i class="fa-solid fa-pen-to-square"></i></a>
                        <div id = "edit-box">
                            <button id ="ok" onclick="okTrigger()">OK</button>
                            <button id="edit" onclick="exitTrigger()">CANCEL</button>
                            <button id="reset"onclick="resetTrigger()">RESET</button>
                        </div>
                    </div>
                    <div class="content-box mrgr-90">
                        <div class="profile-picture col-3">
                            <img id="avatar" src="./img/2112cce6bfb87ce625a9 (1).jpg" alt="">
                            <div>
                                <p class="classNo2">MSSV  : </p>
                                <p class="classNo3" id ="student-id">20215355</p>
                            </div>
                        </div>

                        <ul class="col-3">
                            <li>
                                <p class="classNo2">Họ và tên : </p>
                                <p class="classNo3" id ="name">Nguyễn Mạnh Đức</p>
                            </li>
                            <li>
                                <p class="classNo2">Năm vào trường : </p>
                                <p class="classNo3 " id ="year-start">2021</p>
                            </li>
                            <li>
                                <p class="classNo2">Bậc đào tạo : </p>
                                <p class="classNo3 " id ="level">Đại học đại trà</p>
                            </li>
                            <li>
                                <p class="classNo2">Chương trình : </p>
                                <p class="classNo3 " id="program">Khoa học máy tính</p>
                            </li>
                            <li>
                                <p class="classNo2">Khoa/Viện quản lý : </p>
                                <p class="classNo3 " id="school">Trường Công nghệ thông tin và Truyền thông</p>
                            </li>
                            <li>
                                <p class="classNo2">Tình trạng học tập : </p>
                                <p class="classNo3" id ="study-status">Học</p>
                            </li>
                            
                        </ul>

                        <ul class="col-3">
                            <li>
                                <p class="classNo2">Giới tính : </p>
                                <p class="classNo3" id ="gender">Nam</p>
                            </li>
                            <li>
                                <p class="classNo2 ">Lớp : </p>
                                <p class="classNo3" id = "class-num">Khoa học máy tính 07-K66</p>
                            </li>
                            <li>
                                <p class="classNo2">Khóa học : </p>
                                <p class="classNo3" id ="course-num">66</p>
                            </li>
                            <li>
                                <p class="classNo2">Email : </p>
                                <p class="classNo3" id ="email">duc.nm215355@sis.hust.edu.vn</p>
                            </li>
                            
                        </ul>
                        
                    </div>
                </div>

                <div class="content-field">
                    <div class="field-header classNo1">THÔNG TIN HỌC TẬP</div>
                    <div class="content-box">
                        <ul class="col-2">
                            <li>
                                <p class="classNo2">Tổng kết học kỳ : </p>
                                <p class="classNo3">20232</p>
                            </li>
                            <li>
                                <p class="classNo2">Trung bình tích lũy : </p>
                                <p class="classNo3">3.99</p>
                            </li>
                            <li>
                                <p class="classNo2">Số TC nợ đăng ký : </p>
                                <p class="classNo3">0</p>
                            </li>                            
                        </ul>

                        <ul class="col-2">
                            <li>
                                <p class="classNo2">Số TC tích lũy : </p>
                                <p class="classNo3">96</p>
                            </li>
                            <li>
                                <p class="classNo2">Trình độ sinh viên : </p>
                                <p class="classNo3">3</p>
                            </li>
                            <li>
                                <p class="classNo2">Mức cảnh báo : </p>
                                <p class="classNo3">M0</p>
                            </li>
                        </ul>
                        
                    </div>
                </div>

                <div class="content-field">
                    <div class="field-header classNo1">THÔNG TIN CÁ NHÂN</div>
                    <div class="content-box">
                        <ul class="col-2">
                            <li>
                                <p class="classNo2">Dân tộc : </p>
                                <p class="classNo3">KINH</p>
                            </li>
                            <li>
                                <p class="classNo2">Năm TN cấp 3 : </p>
                                <p class="classNo3">2021</p>
                            </li>
                            <li>
                                <p class="classNo2">Địa chỉ : </p>
                                <p class="classNo3">122***67</p>
                            </li>
                            <li>
                                <p class="classNo2">Nơi cấp : </p>
                                <p class="classNo3">BẮC GIANG</p>
                            </li>  
                            <li>
                                <p class="classNo2">Họ tên bố : </p>
                                <p class="classNo3">NGUYỄN TIẾN TUYÊN</p>
                            </li>  
                            <li>
                                <p class="classNo2">Năm sinh : </p>
                                <p class="classNo3">1977</p>
                            </li>  
                            <li>
                                <p class="classNo2">Nghề nghiệp : </p>
                                <p class="classNo3">CÔNG CHỨC</p>
                            </li>   
                            <li>
                                <p class="classNo2">Điện thoại : </p>
                                <p class="classNo3">098***19</p>
                            </li>
                            <li>
                                <p class="classNo2">Email : </p>
                                <p class="classNo3">NG*@*IL.COM</p>
                            </li>                           
                        </ul>

                        <ul class="col-2">
                            
                            <li>
                                <p class="classNo2">Tôn giáo : </p>
                                <p class="classNo3">KHÔNG</p>
                            </li>
                            <li>
                                <p class="classNo2">Trường THPT : </p>
                                <p class="classNo3">LỤC NGẠN 1 _ BẮC GIANG</p>
                            </li>
                            <li>
                                <p class="classNo2">Hộ khẩu : </p>
                                <p class="classNo3">THỊ TRẤN CHŨ, HUYỆN LỤC NGẠN, TỈNH BẮC GIANG</p>
                            </li>
                            <li>
                                <p class="classNo2">Số Điện thoại : </p>
                                <p class="classNo3">096***19</p>
                            </li>
                            <li>
                                <p class="classNo2">Họ tên mẹ : </p>
                                <p class="classNo3">PHẠM THỊ TÂM</p>
                            </li>
                            <li>
                                <p class="classNo2">Năm sinh : </p>
                                <p class="classNo3">1975</p>
                            </li>
                            <li>
                                <p class="classNo2">Nghề nghiệp : </p>
                                <p class="classNo3">CÔNG CHỨC</p>
                            </li>
                            <li>
                                <p class="classNo2">Điện thoại : </p>
                                <p class="classNo3">096***19</p>
                            </li>
                            <li>
                                <p class="classNo2">Email : </p>
                                <p class="classNo3">KHÔNG CÓ</p>
                            </li>
                        </ul>
                        
                    </div>
                </div>
                
            </div>
        </div>

        <div id="footer">
            <span>
                <h4>Trường Đại học Bách Khoa Hà Nội</h6>
                <p>Số 1 Đại Cồ Việt, Hai Bà Trưng, Hà Nội</p>
            </span>
        </div>

        <script>
            var TTSV = {name: "Nguyễn Mạnh Đức", studentId:"20215355", 
            yearStart:"2021", level: "Đại học đại trà", program: "Khoa học máy tính", school: "Trường Công nghệ thông tin và Truyền thông", 
            studyStatus: "Học", gender: "Nam", classNum: "Khoa học máy tính 07-K66", courseNum: "66", email: "duc.nm215355@sis.hust.edu.vn", img:"./img/2112cce6bfb87ce625a9 (1).jpg"};
            console.log(TTSV);
    
            function selectOption(selectId, selectedValue) {
                var selectElement = document.getElementById(selectId);
                for (var i = 0; i < selectElement.options.length; i++) {
                    if (selectElement.options[i].value === selectedValue) {
                        selectElement.options[i].selected = true;
                        break;
                    }
                }
            }

            function updateLocalTrigger(){
                TTSV.img = document.getElementById("avatar").src;
                TTSV.studentId = document.getElementById("student-id-oc").value;
                TTSV.name = document.getElementById("name-oc").value;
                TTSV.yearStart = document.getElementById("year-start-oc").value;
                TTSV.level = document.getElementById("level-oc").value;
                TTSV.program = document.getElementById("program-oc").value;
                TTSV.school = document.getElementById("school-oc").value;
                TTSV.studyStatus = document.getElementById("study-status-oc").value;
                if (document.getElementById("male-gender").checked === true)
                        TTSV.gender = "Nam";
                    else
                        TTSV.gender = "Nữ";
                TTSV.classNum = document.getElementById("class-num-oc").value;
                TTSV.courseNum = document.getElementById("course-num-oc").value;
                TTSV.email = document.getElementById("email-oc").value;
            }

            function getLocalTrigger(){
                document.getElementById("avatar").src = TTSV.img;
                document.getElementById("name").innerHTML = '9999'
                document.getElementById("student-id").innerHTML = TTSV.studentId;
                document.getElementById("year-start").innerHTML = TTSV.yearStart;
                document.getElementById("level").innerHTML = TTSV.level;
                document.getElementById("gender").innerHTML = TTSV.gender;
                document.getElementById("program").innerHTML = TTSV.program;;
                document.getElementById("school").innerHTML = TTSV.school;;
                document.getElementById("study-status").innerHTML = TTSV.studyStatus;;
                document.getElementById("class-num").innerHTML = TTSV.classNum;
                document.getElementById("course-num").innerHTML = TTSV.courseNum;
                document.getElementById("email").innerHTML = TTSV.email;
            }

            function exitTrigger(){
                let editBox = document.getElementById('edit-box');
                editBox.style.display = "none";

                document.getElementById("avatar").src = TTSV.img;
                document.getElementById("name").innerHTML = TTSV.name
                document.getElementById("student-id").innerHTML = TTSV.studentId;
                document.getElementById("year-start").innerHTML = TTSV.yearStart;
                document.getElementById("level").innerHTML = TTSV.level;
                document.getElementById("gender").innerHTML = TTSV.gender;
                document.getElementById("program").innerHTML = TTSV.program;;
                document.getElementById("school").innerHTML = TTSV.school;;
                document.getElementById("study-status").innerHTML = TTSV.studyStatus;;
                document.getElementById("class-num").innerHTML = TTSV.classNum;
                document.getElementById("course-num").innerHTML = TTSV.courseNum;
                document.getElementById("email").innerHTML = TTSV.email;

                let editButton = document.getElementById('edit-button');
                editButton.style.display = "inline-block";

                let parent = document.getElementById('avatar').parentNode;
                parent.removeChild(parent.firstChild);
                parent.removeChild(parent.firstChild);

                console.log(TTSV);
            }

            function editTrigger(){
                let editBox = document.getElementById('edit-box');
                editBox.style.display = "inline-block";
                let editButton = document.getElementById('edit-button');
                editButton.style.display = "none";

                TTSV.studentId = document.getElementById("student-id").innerText;
                TTSV.name = document.getElementById("name").innerText;
                TTSV.yearStart = document.getElementById("year-start").innerText;
                TTSV.level = document.getElementById("level").innerText;
                TTSV.program = document.getElementById("program").innerText;
                TTSV.school = document.getElementById("school").innerText;
                TTSV.studyStatus = document.getElementById("study-status").innerText;
                TTSV.gender = document.getElementById("gender").innerText;
                TTSV.classNum = document.getElementById("class-num").innerText;
                TTSV.courseNum = document.getElementById("course-num").innerText;
                TTSV.email = document.getElementById("email").innerText;

                document.getElementById("name").innerHTML = '<input type="text" class="edit-text classNo3 " id="name-oc" value="Nguyễn Mạnh Đức">';
                document.getElementById("student-id").innerHTML = '<input type="text" class="edit-text classNo3" id="student-id-oc" value="">';
                document.getElementById("year-start").innerHTML = '<select class="classNo3 "id="year-start-oc"> <option>2021</option> <option>2022</option> </select>';
                document.getElementById("level").innerHTML = '<select class="classNo3 " id="level-oc"> <option value=""></option> <option value="Đại học đại trà">Đại học đại trà</option> <option value="Cao học">Cao học</option> </select>';
                document.getElementById("gender").innerHTML = '<input type="radio" id="male-gender" name="gender"> <label for="male-gender" class="classNo3">Nam</label> <input type="radio" id="female-gender" name="gender"> <label for="female-gender" class="classNo3">Nữ</label>';
                document.getElementById("program").innerHTML = '<select class="classNo3" id ="program-oc"> <option value=""></option> <option value="Khoa học máy tính">Khoa học máy tính</option> <option value="Kỹ thuật máy tính">Kỹ thuật máy tính</option> </select>';
                document.getElementById("school").innerHTML = '<select class="classNo3 " id ="school-oc"> <option value=""></option> <option value="Trường Công nghệ thông tin và Truyền thông">Trường Công nghệ thông tin và Truyền thông</option> <option value="Viện Ngoại ngữ">Viện Ngoại ngữ</option> <option value="Viện Toán ứng dụng và Tin học">Viện Toán ứng dụng và Tin học</option> </select>';
                document.getElementById("study-status").innerHTML = '<select class="classNo3" id = "study-status-oc"> <option value=""></option> <option value="Học">Học</option> <option value="Bảo lưu">Bảo lưu</option> <option value="Thôi học">Thôi học</option> </select>';
                document.getElementById("class-num").innerHTML = '<input type="text" class="edit-text classNo3" id = "class-num-oc" value="Khoa học máy tính 07-K66">';
                document.getElementById("course-num").innerHTML = '<select class="classNo3 " id ="course-num-oc" onchange="updateSelectValue(this.value)"> <option value=""></option> <option>66</option> <option>67</option> <option>68</option> </select>';
                document.getElementById("email").innerHTML = '<input type="text" class="edit-text classNo3" id ="email-oc" value="duc.nm215355@sis.hust.edu.vn">';

                let parent = document.getElementById('avatar');

                let label = document.createElement('label');
                label.htmlFor = 'input-img';
                label.innerText = 'Tải ảnh lên';
                label.style = 'background-color: #9C1010; color: white; padding: 5px; margin-bottom: 10px; cursor:pointer; display: block;';
                parent.parentElement.prepend(label);

                let input = document.createElement('input');
                input.id = 'input-img';
                input.type = 'file';
                input.accept = 'image/jpeg, image/jpg, image/png';
                input.style.display = 'none';
                parent.parentElement.prepend(input);
                
                input.onchange = function(){
                    parent.src = URL.createObjectURL(input.files[0]);
                }

                if (TTSV.gender === "Nam"){
                    document.getElementById("male-gender").checked = true;
                }
                else{
                    document.getElementById("female-gender").checked = true;
                }

                document.getElementById("name-oc").value = TTSV.name
                document.getElementById("student-id-oc").value = TTSV.studentId;
                document.getElementById("class-num-oc").value = TTSV.classNum;
                document.getElementById("email-oc").value = TTSV.email;
                selectOption("year-start-oc", TTSV.yearStart);
                selectOption("level-oc", TTSV.level);
                selectOption("school-oc", TTSV.school);
                selectOption("program-oc", TTSV.program);
                selectOption("study-status-oc", TTSV.studyStatus);
                selectOption("course-num-oc", TTSV.courseNum);
            }

            function okTrigger(){
                updateLocalTrigger();
                alert('Bạn đã thay đổi thông tin thành công!');
                document.getElementById("name").innerHTML = TTSV.name
                document.getElementById("student-id").innerHTML = TTSV.studentId;
                document.getElementById("year-start").innerHTML = TTSV.yearStart;
                document.getElementById("level").innerHTML = TTSV.level;
                document.getElementById("gender").innerHTML = TTSV.gender;
                document.getElementById("program").innerHTML = TTSV.program;;
                document.getElementById("school").innerHTML = TTSV.school;;
                document.getElementById("study-status").innerHTML = TTSV.studyStatus;;
                document.getElementById("class-num").innerHTML = TTSV.classNum;
                document.getElementById("course-num").innerHTML = TTSV.courseNum;
                document.getElementById("email").innerHTML = TTSV.email;

                let editButton = document.getElementById('edit-button');
                editButton.style.display = "inline-block";
                exitTrigger();
            }

            function resetTrigger(){
                TTSV = {name: "Nguyễn Mạnh Đức", studentId:"20215355", 
                        yearStart:"2021", level: "Đại học đại trà", program: "Khoa học máy tính", 
                        school: "Trường Công nghệ thông tin và Truyền thông", 
                        studyStatus: "Học", gender: "Nam", classNum: "Khoa học máy tính 07-K66", 
                        courseNum: "66", email: "duc.nm215355@sis.hust.edu.vn", img:"./img/2112cce6bfb87ce625a9 (1).jpg"};
                getLocalTrigger();
                exitTrigger();
                alert('Thông tin đã được reset thành công !');

                let editButton = document.getElementById('edit-button');
                editButton.style.display = "inline-block";
            }
        </script>
    </body>
</html>